#- from:
#    uri: "undertow:http://0.0.0.0:9088/msc-integration/webhook-complex"
#    steps:
##      - bean: "demoMscTokenValidator"
#      - bean: "demoMscExchangeTransformer"
#      - to: "direct:innerExchangeUpFlow"

- from:
    uri: "timer://myTimer?period=500000"
    steps:
      - bean: "demoMscPullExchangeSource"
      - bean: "demoMscExchangeTransformer"
      - to: "direct:innerExchangeUpFlow"

# 采用yaml编写路由的写法
#- from:
#    uri: "direct:innerExchangedFlow-new"
#    steps:
#      - choice:
#          when:
#            - simple: "${bean:innerExchangeValidator}"
#              steps:
#                - split:
#                    simple: "${bean:innerExchangeSplitter}"
#                - bean: innerLatestExchangeSaveAction
#                - bean: innerHistoryExchangeSaveAction
#                - choice:
#                    when:
#                      - simple: "${bean:innerCustomExchangeDownHandlerPredicate}"
#                        steps:
#                          - to: "bean:innerCustomExchangeDownHandler"
#                      - simple: "${bean:innerSyncCallPredicate}"
#                        steps:
#                          - bean: innerEventHandlerAction
#                    otherwise:
#                       steps:
#                         - bean: innerEventSubscribeAction
#          otherwise:
#            steps:
#              - log: "ExchangeValidator failed........"
